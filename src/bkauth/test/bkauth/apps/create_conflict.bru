meta {
  name: create_conflict
  type: http
  seq: 7
}

post {
  url: http://{{host}}:{{port}}/api/v1/apps
  body: json
  auth: none
}

headers {
  X-Bk-App-Code: {{x_bk_app_code}}
  X-Bk-App-Secret: {{x_bk_app_secret}}
}

body:json {
  {
    "bk_app_code": "demo",
    "name": "demo",
    "bk_tenant": {
      "mode": "single",
      "id": "default"
    }
  }
}

assert {
  res.status: eq 409
  res.body.code: eq 1903409
  res.body.message: eq conflict:app(demo) already exists
}
