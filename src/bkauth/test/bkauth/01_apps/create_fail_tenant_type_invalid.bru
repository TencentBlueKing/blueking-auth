meta {
  name: create_fail_tenant_mode_invalid
  type: http
  seq: 7
}

post {
  url: http://{{host}}:{{port}}/api/v1/apps
  body: json
  auth: none
}

headers {
  X-Bk-App-Code: {{x_bk_app_code}}
  X-Bk-App-Secret: {{x_bk_app_secret}}
}

body:json {
  {
    "bk_app_code": "1",
    "name": "demo",
    "bk_tenant": {
      "mode": "abc",
      "id": "default"
    }
  }
}

assert {
  res.status: eq 400
  res.body.code: eq 1903400
  res.body.message: eq bad request:Mode must be one of 'global single'
}
